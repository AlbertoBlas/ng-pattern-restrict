<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ngPatternRestrict for AngularJS</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ngPatternRestrict</h1>
        <p>Allowing certain inputs based on a regex pattern for AngularJS</p>

        <p class="view"><a href="https://github.com/AlphaGit/ng-pattern-restrict">View the Project on GitHub <small>AlphaGit/ng-pattern-restrict</small></a></p>

        <ul>
          <li><a href="https://github.com/AlphaGit/ng-pattern-restrict/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/AlphaGit/ng-pattern-restrict/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/AlphaGit/ng-pattern-restrict">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>
<a name="what-is-this-for" class="anchor" href="#what-is-this-for"><span class="octicon octicon-link"></span></a>What is this for?</h2>

<p>It is possible that at some points you may want to restrict your user from entering certain values in your web application. Specifically, fields that conform to a very strict set of values. If you decide that it is a good idea for you to <strong>restrict</strong> what the user can even type in the input, this is the tool for you.</p>

<p>This works similar to a masked input, except that no mask is displayed, and the validation is done against a regular expression, which allows you to permit a complex class of values if that's what you need, or to be very specific if that is your necessity.</p>

<h2><a name="how-does-it-work" class="anchor" href="#how-does-it-work"><span class="octicon octicon-link"></span></a>How does it work?</h2>

<p>The logic is quite simple:</p>

<ol>
  <li>Initialization: save regex to be used from the <code>ng-pattern-restrict</code> attribute or the <code>pattern</code> attribute.</li>
  <li>Wait for user input, and reach on <code>input</code> (for any value change), <code>keyup</code> (for keyboard entry) or <code>click</code> (for text drag and drop, contextual copy-paste, etc).</li>
  <li>If the input matches the regex, save it as the latest valid value. Also save the current user's input caret position on the field.</li>
  <li>If the input does not match the regex, restore the latest valid value and set the user input caret in the same position as it was. The user experience should be as if nothing was typed or changed.</li>
</ol>

<h2><a name="how-to-use-it" class="anchor" href="#how-to-use-it"><span class="octicon octicon-link"></span></a>How to use it</h2>

<p>Make sure that you reference the module in your AngularJS application:</p>

{% highlight javascript %}
var myApp = angular.module("myApp", ["ngPatternRestrict", ...]);
{% endhighlight %}

<p>Include the directive in a text input that you wish to restrict, with the regex that specifies the restriction to apply.</p>

{% highlight html %}
&lt;input type="text" ng-pattern-restrict="^[ABC]*$" /&gt;
{% endhighlight %}

<p>Alternatively, you can omit the regex from the <code>ng-pattern-restrict</code> attribute and this directive will read the regex from the <code>pattern</code> attribute, if present. At least one of those needs to have the regex so that the validation can be made.</p>

{% highlight html %}
&lt;input type="text" pattern="^[ABC]*$" ng-pattern-restrict /&gt;
{% endhighlight %}

<h2><a name="issues-suggestions" class="anchor" href="#issues-suggestions"><span class="octicon octicon-link"></span></a>Issues? Suggestions?</h2>

<p>Feel free to submit pull requests and issues in the <a href="https://github.com/AlphaGit/ng-pattern-restrict" title="ng-pattern-restrict repository">GitHub repository of the project</a>. Even for questions. Everything helps, and having it there to be able to track it will help me and others to maintain good documentation and a good code.

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/AlphaGit">AlphaGit</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-367009-15");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>