<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>ng-pattern-restrict by AlphaGit</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">ng-pattern-restrict</h1>
      <h2 class="project-tagline">Allowing certain inputs based on a regex pattern</h2>
      <a href="https://github.com/AlphaGit/ng-pattern-restrict" class="btn">View on GitHub</a>
      <a href="https://github.com/AlphaGit/ng-pattern-restrict/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/AlphaGit/ng-pattern-restrict/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="what-is-this-for" class="anchor" href="#what-is-this-for" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is this for?</h1>

<p>It is possible that at some points you may want to restrict your user from entering certain values in your web application. Specifically, fields that conform to a very strict set of values. If you decide that it is a good idea for you to <strong>restrict</strong> what the user can even type in the input, this is the tool for you.</p>

<p>This works similar to a masked input, except that no mask is displayed, and the validation is done against a regular expression, which allows you to permit a complex class of values if that's what you need, or to be very specific if that is your necessity.</p>

<h1>
<a id="how-does-it-work" class="anchor" href="#how-does-it-work" aria-hidden="true"><span class="octicon octicon-link"></span></a>How does it work?</h1>

<p>The logic is quite simple:</p>

<ul>
<li>Initialization: save regex to be used from the <code>ng-pattern-restrict</code> attribute or the <code>pattern</code> attribute.</li>
<li>Wait for user input, and reach on <code>input</code> (for any value change), <code>keyup</code> (for keyboard entry) or <code>click</code> (for text drag and drop, contextual copy-paste, etc).</li>
<li>If the input matches the regex, save it as the latest valid value. Also save the current user's input caret position on the field.</li>
<li>If the input does not match the regex, restore the latest valid value and set the user input caret in the same position as it was. The user experience should be as if nothing was typed or changed.</li>
</ul>

<h1>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<div class="highlight highlight-console"><pre><span class="pl-mo">bower install ng-pattern-restrict</span></pre></div>

<p>Alternatively, copy the <a href="https://github.com/AlphaGit/ng-pattern-restrict/src/ng-pattern-restrict.js">ng-pattern-restrict.js</a> (or the minified version <a href="https://github.com/AlphaGit/ng-pattern-restrict/src/ng-pattern-restrict.min.js">ng-pattern-restrict.min.js</a>) into your project, load it into the browser and use it away.</p>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">input</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-e">pattern</span>=<span class="pl-s"><span class="pl-pds">"</span>[0-9]+<span class="pl-pds">"</span></span> <span class="pl-e">ng-pattern-restrict</span> /&gt;</pre></div>

<p>Should be the same as</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">input</span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-e">ng-pattern-restrict</span>=<span class="pl-s"><span class="pl-pds">"</span>[0-9]+<span class="pl-pds">"</span></span> <span class="pl-e">pattern</span>=<span class="pl-s"><span class="pl-pds">"</span>[0-9]+<span class="pl-pds">"</span></span> /&gt;</pre></div>

<h2>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes:</h2>

<ul>
<li>(<a href="https://github.com/AlphaGit/ng-pattern-restrict/issues/15">#15</a>) <strong>Make sure to use "progressive" regular expressions.</strong> The expressions are validated against the full regular expression. This means that if your regex is <code>\d\d</code>, and your textbox is empty, a user will never be able to type anything because the first keypress will not validate and will be reverted. Following the example, the proper regular expression should be <code>\d{0,2}</code>.</li>
<li><strong>Your regex must validate against empty strings if you want users to be able to remove the value from the textbox.</strong></li>
<li>
<strong>Make sure AngularJS is compatible with your browser.</strong> It goes without saying, but your browser compatibility with AngularJS will make a huge impact on how well this directive can behave. For example, AngularJS 1.3 with IE 8 won't really play well together, and this directive is restricted by those limitations.</li>
</ul>

<p>If you still have problems, please make sure to check the <a href="https://github.com/AlphaGit/ng-pattern-restrict/docs/compatibility.md">Compatibility notes</a>. There are several issues that really depend on the browsers.</p>

<h1>
<a id="e2e-testing" class="anchor" href="#e2e-testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>E2E testing</h1>

<p>In order to e2e test you need to execute the following steps:</p>

<div class="highlight highlight-console"><pre><span class="pl-mo">npm install</span>
<span class="pl-mo">./node_modules/protractor/bin/webdriver-manager update</span>

# <span class="pl-s1"><span class="pl-k">then</span>, <span class="pl-k">for</span> <span class="pl-smi">each</span> <span class="pl-k">time</span> you want to <span class="pl-c1">test</span></span>
<span class="pl-mo">npm test</span></pre></div>

<p>That's it. Neat, huh?</p>

<p>Check out the <a href="https://github.com/AlphaGit/ng-pattern-restrict/protractor-conf.js">protractor configuration file</a> for the set of browsers that you want to test on your system.</p>

<h2>
<a id="version-list" class="anchor" href="#version-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Version list</h2>

<ul>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/v0.2.0">v0.2.0</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/v0.1.1">v0.1.1</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/0.1.0-alpha.6">v0.1.0-alpha.6</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/0.1.0-alpha.5">v0.1.0-alpha.5</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/0.1.0-alpha.4">v0.1.0-alpha.4</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/0.1.0-alpha.3">v0.1.0-alpha.3</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/0.1.0-alpha.2">v0.1.0-alpha.2</a></li>
<li><a href="https://github.com/AlphaGit/ng-pattern-restrict/releases/tag/0.1.0-alpha.1">v0.1.0-alpha.1</a></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/AlphaGit/ng-pattern-restrict">ng-pattern-restrict</a> is maintained by <a href="https://github.com/AlphaGit">AlphaGit</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-367009-15");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
