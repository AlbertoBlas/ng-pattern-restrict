{"name":"ng-pattern-restrict","tagline":"Allowing certain inputs based on a regex pattern","body":"# What is this for?\r\n\r\nIt is possible that at some points you may want to restrict your user from entering certain values in your web application. Specifically, fields that conform to a very strict set of values. If you decide that it is a good idea for you to **restrict** what the user can even type in the input, this is the tool for you.\r\n\r\nThis works similar to a masked input, except that no mask is displayed, and the validation is done against a regular expression, which allows you to permit a complex class of values if that's what you need, or to be very specific if that is your necessity.\r\n\r\n# How does it work?\r\n\r\nThe logic is quite simple:\r\n\r\n- Initialization: save regex to be used from the `ng-pattern-restrict` attribute or the `pattern` attribute.\r\n- Wait for user input, and reach on `input` (for any value change), `keyup` (for keyboard entry) or `click` (for text drag and drop, contextual copy-paste, etc).\r\n- If the input matches the regex, save it as the latest valid value. Also save the current user's input caret position on the field.\r\n- If the input does not match the regex, restore the latest valid value and set the user input caret in the same position as it was. The user experience should be as if nothing was typed or changed.\r\n\r\n# Installation\r\n\r\n```console\r\nbower install ng-pattern-restrict\r\n```\r\n\r\nAlternatively, copy the [ng-pattern-restrict.js][srcfile] (or the minified version [ng-pattern-restrict.min.js][srcminfile]) into your project, load it into the browser and use it away.\r\n\r\n# Usage\r\n\r\n```html\r\n<input type=\"text\" pattern=\"[0-9]+\" ng-pattern-restrict />\r\n```\r\n\r\nShould be the same as\r\n\r\n```html\r\n<input type=\"text\" ng-pattern-restrict=\"[0-9]+\" pattern=\"[0-9]+\" />\r\n```\r\n\r\n## Notes:\r\n\r\n- ([#15][ticket15]) **Make sure to use \"progressive\" regular expressions.** The expressions are validated against the full regular expression. This means that if your regex is `\\d\\d`, and your textbox is empty, a user will never be able to type anything because the first keypress will not validate and will be reverted. Following the example, the proper regular expression should be `\\d{0,2}`.\r\n- **Your regex must validate against empty strings if you want users to be able to remove the value from the textbox.**\r\n- **Make sure AngularJS is compatible with your browser.** It goes without saying, but your browser compatibility with AngularJS will make a huge impact on how well this directive can behave. For example, AngularJS 1.3 with IE 8 won't really play well together, and this directive is restricted by those limitations.\r\n\r\nIf you still have problems, please make sure to check the [Compatibility notes][compatibility]. There are several issues that really depend on the browsers.\r\n\r\n# E2E testing\r\n\r\nIn order to e2e test you need to execute the following steps:\r\n\r\n```console\r\nnpm install\r\n./node_modules/protractor/bin/webdriver-manager update\r\n\r\n# then, for each time you want to test\r\nnpm test\r\n```\r\n\r\nThat's it. Neat, huh?\r\n\r\nCheck out the [protractor configuration file][protractor conf] for the set of browsers that you want to test on your system.\r\n\r\n[travisci]: https://travis-ci.org/AlphaGit/ng-pattern-restrict\r\n[ticket15]: https://github.com/AlphaGit/ng-pattern-restrict/issues/15\r\n[compatibility]: https://github.com/AlphaGit/ng-pattern-restrict/docs/compatibility.md\r\n[protractor conf]: https://github.com/AlphaGit/ng-pattern-restrict/protractor-conf.js\r\n[srcfile]: https://github.com/AlphaGit/ng-pattern-restrict/src/ng-pattern-restrict.js\r\n[srcminfile]: https://github.com/AlphaGit/ng-pattern-restrict/src/ng-pattern-restrict.min.js","google":"UA-367009-15","note":"Don't delete this file! It's used internally to help with page regeneration."}